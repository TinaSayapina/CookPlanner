<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Cook Planner - Helper at your kitchen</title>
    <link href="{{ url_for('static', path='/styles.css') }}" rel="stylesheet">
</head>
<body>
<!-- Навбар -->
<div class="navbar">
  <a href="/register">Регистрация</a>
  <a href="/login">Логин</a>
</div>
<h1>Найди рецепт и ингредиенты</h1>

<div class="input-container">
  <input type="text" id="dishInput" placeholder="Введите название блюда" />
  <button onclick="getIngredients()">Найти рецепт</button>

</div>
  <p id="result"></p>

</body>

<script>
  async function getIngredients() {
    const dish = document.getElementById('dishInput').value.trim();
    // Проверка, что ввод только букв
    if (!/^[A-Za-zА-Яа-яЁё]+$/.test(dish)) {
      alert("Введите правильное название блюда");
      return;
    }

    const response = await fetch('/recepe/recepe', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
        },
        body: JSON.stringify({ prompt: dish })
      });

    const data = await response.json();
    if (data.status === 200) {
    document.getElementById('result').textContent = data.message;
    } else {
      alert(data.message);
    }

  }
</script>
</html>

